import{a as I,b as z,c as T}from"./chunk-OXYSB3PN.js";import{h as k}from"./chunk-PSHGO4VA.js";import{a as A}from"./chunk-D26XM7ET.js";import{a as J}from"./chunk-T65ZH34U.js";import{a as $}from"./chunk-BG5OABPD.js";import{a as L}from"./chunk-UIAZK7O4.js";import{a as U}from"./chunk-WXQINL7T.js";import{b as j}from"./chunk-L34VEILA.js";import{a as D}from"./chunk-SEHDV2E7.js";import{a as G}from"./chunk-STAKAPIY.js";import{g as V}from"./chunk-RUDA2RPX.js";import{a as q}from"./chunk-O7TQW4TT.js";import{i as B}from"./chunk-Y2FNOCH7.js";import"./chunk-4BQZLGFG.js";import"./chunk-MHD2J2H6.js";import{d as t,f as P,g as F,h as w,k as x,n as R,o as N,t as E}from"./chunk-F6QTPZUH.js";import"./chunk-R7NQQTEA.js";import{e as O}from"./chunk-ISKXA73K.js";import{c as y}from"./chunk-DBXTAN6W.js";import"./chunk-ZESSTKUQ.js";import{Cb as i,Db as c,Eb as p,F as C,Lb as u,Wa as o,Xb as d,ab as s,hb as S,mb as b,tb as r,wa as M,yb as _}from"./chunk-KXY2N67X.js";import"./chunk-4CLCTAJ7.js";var H={0:"CPF Inv\xE1lido",1:"Documento j\xE1 existe.",2:"O e-mail j\xE1 est\xE1 cadastrado.",firstName:"O nome n\xE3o pode ser vazio.",lastName:"O sobrenome n\xE3o pode ser vazio.",document:"O CPF n\xE3o pode ser vazio.",email:"O e-mail n\xE3o pode ser vazio.",phoneNumber:"O telefone n\xE3o pode ser vazio.",password:"A senha n\xE3o pode ser vazia."};function Q(l,W){l&1&&(i(0,"div",1),p(1,"img",20),c())}var Oe=(()=>{class l{constructor(a,n,e,m,g,f){this.screenService=a,this.router=n,this.notificationService=e,this.formValidation=m,this.registrationService=g,this.tempStorageService=f,this.isLoading=M(!1),this.isMobile=!1,this.registerForm=new w({firstName:this.formValidation.createFormControl("",[t.required]),lastName:this.formValidation.createFormControl("",[t.required]),document:this.formValidation.createFormControl("",[t.required,t.pattern(this.formValidation.patterns.cpf)]),email:this.formValidation.createFormControl("",[t.required,t.pattern(this.formValidation.patterns.email)]),phoneNumber:this.formValidation.createFormControl("",[t.required,t.pattern(this.formValidation.patterns.phone)]),password:this.formValidation.createFormControl("",[t.required,this.formValidation.passwordValidator()]),term:this.formValidation.createFormControl(!1,[t.required])})}ngOnInit(){this.screenService.isMobile$.subscribe(a=>{this.isMobile=a})}onRegister(){if(this.registerForm.invalid)return;this.isLoading.set(!0);let{firstName:a,lastName:n,document:e,email:m,phoneNumber:g,password:f}=this.registerForm.value;this.registrationService.register({firstName:a,lastName:n,document:e,email:m,phoneNumber:g,password:f}).pipe(C(()=>this.isLoading.set(!1))).subscribe({next:()=>{this.tempStorageService.setEmail(m),this.notificationService.showSuccess("Registro realizado com sucesso! Verifique seu e-mail para confirmar."),this.router.navigate(["/auth/confirm"])},error:h=>{let v=h?.error?.code||h?.error?.field||"500",K=H[v]||U[v]||"Erro desconhecido.";this.notificationService.showError(K)}})}onLogin(){this.router.navigate(["auth/login"])}static{this.\u0275fac=function(n){return new(n||l)(s(G),s(O),s(B),s(q),s(J),s($))}}static{this.\u0275cmp=S({type:l,selectors:[["app-register"]],decls:24,vars:13,consts:[[1,"register-container"],[1,"register-left"],[1,"register-right"],[1,"register-card"],[1,"logo-section"],["src","logo.svg","alt","Stonkz Logo",1,"logo"],[1,"register-title"],[1,"register-link",3,"click"],[3,"ngSubmit","formGroup"],["label","Nome","placeholder","Digite seu Nome",3,"control"],["label","Sobrenome","placeholder","Digite seu Sobrenome",3,"control"],["label","CPF","placeholder","000.000.000-00","mask","000.000.000-00",3,"control"],["label","E-mail","type","email",3,"control"],["label","Celular","placeholder","(00) 00000-0000","mask","(00) 00000-0000",3,"control"],["label","Senha","type","password",3,"control","confirmControl","isConfirmPassword"],[1,"register-options"],["formControlName","term"],[1,"term"],[1,"link"],["type","submit",3,"label","loading","disabled"],["src","register/register.svg","alt","register Image",1,"register-image"]],template:function(n,e){n&1&&(i(0,"div",0),b(1,Q,2,0,"div",1),i(2,"div",2)(3,"section",3)(4,"div",4),p(5,"img",5),c(),i(6,"h2",6),d(7," J\xE1 \xE9 usu\xE1rio? "),i(8,"a",7),u("click",function(){return e.onLogin()}),d(9,"fa\xE7a seu login"),c()(),i(10,"form",8),u("ngSubmit",function(){return e.onRegister()}),p(11,"app-input",9)(12,"app-input",10)(13,"app-input",11)(14,"app-input",12)(15,"app-input",13)(16,"app-password-input",14),i(17,"div",15),p(18,"mat-checkbox",16),i(19,"span",17),d(20," Concordo com os "),i(21,"span",18),d(22,"Termos de Uso e Politicas de Privacidade"),c()()(),p(23,"app-button",19),c()()()()),n&2&&(o(),_(e.isMobile?-1:1),o(9),r("formGroup",e.registerForm),o(),r("control",e.registerForm.controls.firstName),o(),r("control",e.registerForm.controls.lastName),o(),r("control",e.registerForm.controls.document),o(),r("control",e.registerForm.controls.email),o(),r("control",e.registerForm.controls.phoneNumber),o(),r("control",e.registerForm.controls.password)("confirmControl",e.registerForm.controls.password)("isConfirmPassword",!0),o(7),r("label","Registrar")("loading",e.isLoading())("disabled",e.registerForm.invalid||!e.registerForm.controls.term.value||e.isLoading()))},dependencies:[E,x,P,F,R,N,V,j,y,k,z,I,T,L,D,A],styles:['@charset "UTF-8";.register-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;min-height:100vh;width:100%;overflow:hidden}.register-left[_ngcontent-%COMP%]{flex:7;display:flex;justify-content:center;position:relative}.register-image[_ngcontent-%COMP%]{width:100%;height:100vh;object-fit:cover;object-position:top}.register-right[_ngcontent-%COMP%]{flex:3;display:flex;align-items:center;justify-content:center;height:100vh;overflow-y:auto}.register-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:24px}.logo-section[_ngcontent-%COMP%]{display:flex;justify-content:left;margin-bottom:20px}.logo[_ngcontent-%COMP%]{width:163px;height:42px;object-fit:contain}.register-title[_ngcontent-%COMP%]{font-size:16px;font-weight:400;text-align:left;margin-bottom:20px}.register-title[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]{font-weight:500;text-decoration:none;cursor:pointer;color:var(--color-primary)}.register-title[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{opacity:.5}@media (max-width: 768px){.register-container[_ngcontent-%COMP%]{flex-direction:column}.register-left[_ngcontent-%COMP%]{display:none}.register-right[_ngcontent-%COMP%]{align-items:flex-start;margin-top:24px;width:100%;height:auto}.register-card[_ngcontent-%COMP%]{padding:15px}}.register-options[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;margin-top:8px;margin-bottom:20px}.register-options[_ngcontent-%COMP%]   .term[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:#1a1a1a}.register-options[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-weight:500;color:var(--color-primary);cursor:pointer}.forgot-password-link[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-primary);font-size:12px}.forgot-password-link[_ngcontent-%COMP%]:hover{opacity:.7}']})}}return l})();export{Oe as RegisterComponent};
