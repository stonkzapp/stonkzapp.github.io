import{a as I}from"./chunk-YJ622PI4.js";import{a as k}from"./chunk-BG5OABPD.js";import{a as O}from"./chunk-UIAZK7O4.js";import{a as j}from"./chunk-WXQINL7T.js";import"./chunk-L34VEILA.js";import{a as y}from"./chunk-SEHDV2E7.js";import{a as F}from"./chunk-STAKAPIY.js";import"./chunk-RUDA2RPX.js";import{a as b}from"./chunk-O7TQW4TT.js";import{i as E}from"./chunk-Y2FNOCH7.js";import"./chunk-4BQZLGFG.js";import"./chunk-MHD2J2H6.js";import{d as m,g as C,h as _,k as M,n as S,t as x}from"./chunk-F6QTPZUH.js";import"./chunk-R7NQQTEA.js";import{e as P}from"./chunk-ISKXA73K.js";import"./chunk-DBXTAN6W.js";import"./chunk-ZESSTKUQ.js";import{Cb as e,Db as s,Eb as d,F as f,Lb as p,Wa as l,Xb as g,ab as r,hb as u,mb as w,tb as c,wa as h,yb as v}from"./chunk-KXY2N67X.js";import"./chunk-4CLCTAJ7.js";function z(n,N){n&1&&(e(0,"div",1),d(1,"img",12),s())}var Z=(()=>{class n{constructor(i,o,t,a,L,V){this.passwordService=i,this.router=o,this.notificationService=t,this.formValidation=a,this.screenService=L,this.tempStorageService=V,this.isLoading=h(!1),this.isMobile=!1,this.forgotPasswordForm=new _({email:this.formValidation.createFormControl("",[m.required,m.pattern(this.formValidation.patterns.email)])})}ngOnInit(){this.screenService.isMobile$.subscribe(i=>{this.isMobile=i})}onForgotPassword(){if(this.forgotPasswordForm.invalid)return;this.isLoading.set(!0);let i={email:this.forgotPasswordForm.value.email};this.passwordService.forgotPassword(i).pipe(f(()=>this.isLoading.set(!1))).subscribe({next:()=>{this.tempStorageService.setEmail(this.forgotPasswordForm.value.email),this.notificationService.showSuccess("E-mail enviado! Verifique sua caixa de entrada."),this.router.navigate(["/auth/reset-password"])},error:o=>{let t=o?.error?.code||o?.error?.field||"500",a=j[t]||"Erro desconhecido.";this.notificationService.showError(a)}})}onLogin(){this.router.navigate(["auth/login"])}static{this.\u0275fac=function(o){return new(o||n)(r(I),r(P),r(E),r(b),r(F),r(k))}}static{this.\u0275cmp=u({type:n,selectors:[["app-forgot-password"]],decls:15,vars:6,consts:[[1,"forgot-password-container"],[1,"forgot-password-left"],[1,"forgot-password-right"],[1,"forgot-password-card"],[1,"logo-section"],["src","logo.svg","alt","Stonkz Logo",1,"logo"],[1,"forgot-password-title"],[1,"login-link",3,"click"],[1,"forgot-password-subtitle"],[3,"ngSubmit","formGroup"],["label","E-mail","type","email",3,"control"],[3,"label","disabled","loading"],["src","register/forgot.svg","alt","Forgot Password Image",1,"forgot-password-image"]],template:function(o,t){o&1&&(e(0,"div",0),w(1,z,2,0,"div",1),e(2,"div",2)(3,"section",3)(4,"div",4),d(5,"img",5),s(),e(6,"h2",6),g(7," Esqueceu sua senha? "),e(8,"a",7),p("click",function(){return t.onLogin()}),g(9,"N\xE3o, Fazer login"),s()(),e(10,"p",8),g(11," Digite seu e-mail para receber um link de redefini\xE7\xE3o. "),s(),e(12,"form",9),p("ngSubmit",function(){return t.onForgotPassword()}),d(13,"app-input",10)(14,"app-button",11),s()()()()),o&2&&(l(),v(t.isMobile?-1:1),l(11),c("formGroup",t.forgotPasswordForm),l(),c("control",t.forgotPasswordForm.controls.email),l(),c("label","Enviar Link")("disabled",t.forgotPasswordForm.invalid||t.isLoading())("loading",t.isLoading()))},dependencies:[x,M,C,S,O,y],styles:['@charset "UTF-8";.forgot-password-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;min-height:100vh;width:100%;overflow:hidden}.forgot-password-left[_ngcontent-%COMP%]{flex:7;display:flex;justify-content:center;position:relative}.forgot-password-right[_ngcontent-%COMP%]{flex:3;display:flex;align-items:center;justify-content:center;height:100vh;overflow-y:auto}.logo-section[_ngcontent-%COMP%]{display:flex;justify-content:left;margin-bottom:20px}.logo[_ngcontent-%COMP%]{width:163px;height:42px;object-fit:contain}.forgot-password-image[_ngcontent-%COMP%]{width:100%;height:100vh;object-fit:cover;object-position:top}.forgot-password-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:24px;text-align:center}.forgot-password-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:grid;row-gap:8px}.forgot-password-title[_ngcontent-%COMP%]{font-size:16px;font-weight:400;margin-bottom:10px;text-align:left}.forgot-password-title[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]{font-weight:500;color:var(--color-primary);cursor:pointer}.forgot-password-title[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{opacity:.5}.forgot-password-subtitle[_ngcontent-%COMP%]{font-size:14px;color:#666;margin-bottom:20px;text-align:left}.resend-text[_ngcontent-%COMP%]{margin-top:15px;font-size:14px}.resend-link[_ngcontent-%COMP%]{color:var(--color-primary);cursor:pointer;font-weight:500}.resend-link[_ngcontent-%COMP%]:hover{opacity:.7}@media (max-width: 768px){.forgot-password-container[_ngcontent-%COMP%]{flex-direction:column}.forgot-password-left[_ngcontent-%COMP%]{display:none}.forgot-password-right[_ngcontent-%COMP%]{align-items:flex-start;margin-top:24px;width:100%;height:auto}.forgot-password-card[_ngcontent-%COMP%]{padding:15px}}']})}}return n})();export{Z as ForgotPasswordComponent};
