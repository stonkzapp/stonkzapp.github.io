import{a as R}from"./chunk-R3AVZCMM.js";import{a as $}from"./chunk-MHD2J2H6.js";import{$ as s,Ab as u,Bb as _,Cb as e,Db as i,Eb as g,Mb as h,Oc as F,Qc as k,Rc as w,V as I,Wa as r,Xb as o,Xc as z,Zb as p,_b as E,ac as S,bc as f,gc as c,hb as P,hc as T,j as C,jc as x,mb as l,y,yb as d,zb as v}from"./chunk-KXY2N67X.js";import"./chunk-4CLCTAJ7.js";var D=(()=>{class t{constructor(){this.http=s(z),this.baseUrl=$.apiUrl}getSummary(){return this.http.get(`${this.baseUrl}/wallet/summary`)}getAssets(){return this.http.get(`${this.baseUrl}/wallet/assets`)}static{this.\u0275fac=function(m){return new(m||t)}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var A=t=>[t,"BRL","symbol","1.0-0","pt-BR"],M=()=>[1,2,3,4],V=t=>[t,"BRL","symbol","1.2-2","pt-BR"],U=()=>[1,2,3,4,5,6],L=(t,n)=>n.ticker;function N(t,n){if(t&1&&(e(0,"div",3)(1,"div")(2,"p",6),o(3,"Valor Total"),i(),e(4,"p",7),o(5),c(6,"currency"),i()(),e(7,"div")(8,"p",6),o(9,"P/L do Dia"),i(),e(10,"p",7),o(11),i()(),e(12,"div")(13,"p",6),o(14,"YTD"),i(),e(15,"p",7),o(16),i()()()),t&2){let a=h();r(5),p(" ",x(6,3,f(9,A,a.totalValue))," "),r(6),p("",a.dayPnlPct,"%"),r(5),p("",a.ytdReturnPct,"%")}}function q(t,n){t&1&&(e(0,"p",5),o(1," N\xE3o foi poss\xEDvel carregar o resumo da carteira. "),i())}function H(t,n){t&1&&l(0,N,17,11,"div",3)(1,q,2,0,"p",5),t&2&&d(n?0:1)}function Q(t,n){t&1&&g(0,"div",8)}function Y(t,n){t&1&&(e(0,"div",3),u(1,Q,1,0,"div",8,v),i()),t&2&&(r(),_(S(0,M)))}function G(t,n){if(t&1&&(e(0,"stz-card")(1,"h3",9),o(2),i(),e(3,"div",10)(4,"p",11),o(5),c(6,"currency"),i(),e(7,"p"),o(8),c(9,"currency"),i(),e(10,"p"),o(11),i()()()),t&2){let a=n.$implicit;r(2),E(" ",a.ticker," \xB7 ",a.name," "),r(3),E(" Qtde: ",a.quantity," \xB7 PM: ",x(6,6,f(18,V,a.avgPrice))," "),r(3),p(" Pre\xE7o: ",x(9,12,f(20,V,a.currentPrice))," "),r(3),p("Aloca\xE7\xE3o: ",a.allocationPct,"%")}}function J(t,n){if(t&1&&u(0,G,12,22,"stz-card",null,L),t&2){let a=h();_(a)}}function K(t,n){t&1&&(e(0,"stz-card")(1,"p",5),o(2,"Nenhum ativo na carteira."),i()())}function O(t,n){t&1&&l(0,J,2,0)(1,K,3,0,"stz-card"),t&2&&d(n.length?0:1)}function X(t,n){t&1&&(e(0,"stz-card"),g(1,"div",12),i())}function Z(t,n){t&1&&u(0,X,2,0,"stz-card",null,v),t&2&&_(S(0,U))}var ut=(()=>{class t{constructor(){this.wallet=s(D),this.summary$=this.wallet.getSummary().pipe(y(()=>C(null))),this.assets$=this.wallet.getAssets().pipe(y(()=>C([])))}static{this.\u0275fac=function(m){return new(m||t)}}static{this.\u0275cmp=P({type:t,selectors:[["stz-wallet"]],decls:11,vars:6,consts:[[1,"sticky-header"],[1,"text-xl","font-semibold"],["title","Resumo da Carteira",1,"mt-4"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","mt-4"],[1,"text-sm","text-gray-500"],[1,"text-xs","text-gray-500"],[1,"text-lg","font-semibold"],[1,"bg-gray-100","dark:bg-gray-700","rounded","h-10"],[1,"text-base","font-medium","mb-2"],[1,"space-y-2","text-sm"],[1,"text-gray-500"],[1,"bg-gray-100","dark:bg-gray-700","rounded","h-20"]],template:function(m,b){if(m&1&&(e(0,"div",0)(1,"h2",1),o(2,"Carteira"),i()(),e(3,"stz-card",2),l(4,H,2,1),c(5,"async"),l(6,Y,3,1,"div",3),i(),e(7,"div",4),l(8,O,2,1),c(9,"async"),l(10,Z,2,1),i()),m&2){let W,B;r(4),d((W=T(5,2,b.summary$))?4:6,W),r(4),d((B=T(9,4,b.assets$))?8:10,B)}},dependencies:[w,F,k,R],encapsulation:2})}}return t})();export{ut as WalletComponent};
